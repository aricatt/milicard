# 模块：商品列表

- **参考截图**: `5_商品.png`
- **URL**: `/live-base/inventory/goods`

---

## 1. 功能概述

此页面是商品管理的核心，用于维护系统中的所有商品信息。赠品如果也需要进行库存管理，则同样需要在此登记。

**核心业务规则**: 商品是关联多个模块的核心数据，一旦创建后，为保证数据一致性，不应随意编辑或删除。如需修改，应联系技术支持。

---

## 2. 页面布局与功能

### 2.1 搜索与操作

- **搜索**: 
  - 页面顶部提供按“编号”和“名称”进行搜索的输入框。
  - 点击“搜索” (Search) 按钮后，下方列表根据条件进行过滤。
  - “重置” (Reset) 按钮用于清空搜索条件，并刷新列表。
- **主要操作**:
  - **添加 (Add)**: 点击跳转到“添加商品”页面。
  - **导入 (Import)**: 点击后，应弹出文件选择框，用于批量导入商品信息（具体导入格式待定）。
  - **导出 (Export)**: 点击后，将当前列表（或所有）的商品信息导出为文件（如 Excel 或 CSV）。

### 2.2 商品列表

- **数据展示**: 页面主体为一个表格，展示商品信息。
- **分页**: 表格下方应有分页组件。
- **表格列**:
  - **ID**: 唯一标识符。
  - **编号**: 商品的业务编号 (例如: `GOODS-BY28EN537DUA`)。
  - **名称**: 商品的完整名称。
  - **别名**: 商品的简称或别名。
  - **厂商名称**: 生产该商品的厂商。
  - **零售价(一级)**: 商品的一级零售价格。
  - **采购价(一级)**: 商品的一级采购价格。
  - **箱规量**: 每箱包含的单位数量。
  - **箱数量**: 固定为1，因为零售价和采购价均以“箱”为单位。
  - **盒数量**: 指1箱包含多少盒。
  - **包数量**: 指1盒包含多少包。
  - **创建时间**: 记录的创建日期和时间。
  - **操作**:
    - **编辑 (Edit)**: 点击后，跳转到对应的编辑页面。
    - **删除 (Del)**: 点击后，应弹出确认对话框，确认后删除该记录。

---

## 3. 数据模型

### 3.1 基地商品数据结构

```typescript
// 基地商品响应数据
export interface GoodsBaseResponse {
  id: string;                      // 商品唯一标识符
  code: string;                    // 商品编号 (自动生成，格式: GOODS-XXXXXXXXXXX)
  name: string;                    // 商品名称 (必填)
  alias?: string;                  // 商品别名
  manufacturer: string;            // 厂家名称 (必填)
  description?: string;            // 商品描述
  retailPrice: number;             // 零售价(一箱) (必填)
  packPrice?: number;              // 平拆价(一盒)
  purchasePrice?: number;          // 采购价
  boxQuantity: number;             // 箱装数量 (固定为1)
  packPerBox: number;              // 包/箱 (必填)
  piecePerPack: number;            // 件/包 (必填)
  imageUrl?: string;               // 图片URL
  notes?: string;                  // 商品备注
  isActive: boolean;               // 是否启用
  createdAt: string;               // 创建时间 (ISO 8601 format)
  updatedAt: string;               // 更新时间 (ISO 8601 format)
}

// 基地商品创建请求
export interface CreateGoodsBaseRequest {
  name: string;                    // 商品名称 (必填)
  alias?: string;                  // 商品别名
  manufacturer: string;            // 厂家名称 (必填)
  description?: string;            // 商品描述
  retailPrice: number;             // 零售价(一箱) (必填)
  packPrice?: number;              // 平拆价(一盒)
  purchasePrice?: number;          // 采购价
  packPerBox: number;              // 包/箱 (必填)
  piecePerPack: number;            // 件/包 (必填)
  imageUrl?: string;               // 图片URL
  notes?: string;                  // 商品备注
  baseNotes?: string;              // 基地级别备注
}
```

### 3.2 基地级数据管理

**重要说明**: 本系统采用**基地级数据管理**模式：

- 所有商品数据都与特定基地关联
- 用户在前端选择当前基地后，所有操作都基于该基地
- 数据库通过 `GoodsBase` 关联表管理商品与基地的关系
- 确保数据隔离，不同基地之间的商品数据互不干扰

---

## 4. 已确认的业务规则

1.  **基地级管理**: 所有商品数据都必须与基地关联，确保数据隔离和安全性。
2.  **自动编号生成**: 商品编号由系统自动生成，格式为 `GOODS-XXXXXXXXXXX`。
3.  **厂家名称必填**: 厂家名称为必填字段，长度限制2-50个字符。
4.  **单位换算**: "零售价"和"采购价"均以"箱"为单位。因此，"箱数量"固定为1。"包/箱"指1箱内包含的包数，"件/包"指1包内包含的件数。
5.  **价格体系**: 目前系统只涉及一级价格，字段中的"(一级)"可忽略。
6.  **导入/导出格式**: 统一使用 Excel 格式。
7.  **命名建议**: 对于多语言环境，建议商品名称使用"本地语言+中文"的格式，方便各方人员识别。
8.  **数据验证**: 所有数值字段都有合理的范围限制，确保数据质量。
