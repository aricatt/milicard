# 模块：应付管理

- **参考截图**: `16_应付.png`
- **URL**: `/live-base/finance/payables`

---

## 1. 功能概述

此页面用于追踪和管理因“采购”而产生的应付款项。

**核心业务逻辑**: 创建采购单后，系统会自动在此处同步生成一条应付记录。财务人员可在此对该笔应付进行分批多次付款。

---

## 2. 页面布局与功能

### 2.1 搜索与操作

- **搜索**: 
  - 页面顶部提供按“采购单”、“供应商”等条件进行筛选的功能。
  - 点击“搜索” (Search) 按钮后，下方列表根据条件进行过滤。
- **主要操作**:
  - **添加 (Add)**: 点击跳转到“添加应付记录”页面。
  - **导出 (Export)**: 导出应付款项列表。

### 2.2 应付列表

- **数据展示**: 页面主体为一个表格，展示应付款项的详细信息。
- **分页**: 表格下方应有分页组件。
- **表格列**:
  - **ID**: 唯一标识符。
  - **采购**: 产生该笔应付款的采购订单。
  - **供应商**: 应付款的对象。
  - **商品**: 相关的商品。
  - **应付总金额**: 本次采购应支付的总金额。
  - **付款金额**: 已经支付的金额。
  - **未付金额**: 尚未支付的金额。
  - **付款日期**: 最近一次付款的日期。
  - **操作**:
    - **删除 (Del)**: 点击后，应弹出确认对话框，确认后删除该应付记录。

---

## 3. 数据模型与计算逻辑

```typescript
// file: src/models/payable.ts

export interface Payable {
  id: number;
  purchaseOrderId: number; // 关联采购单
  supplierId: number;
  goodsId: number;

  totalAmount: number; // 应付总金额
  paidAmount: number; // 付款金额
  unpaidAmount: number; // 未付金额

  lastPaymentDate?: string; // 付款日期
}
```

---

## 4. 已确认的业务规则

1.  **数据来源**: “应付总金额”自动从关联的“采购订单”中获取。
2.  **付款操作**: 通过“添加/编辑”功能来更新“付款金额”，以实现分批付款。
3.  **计算逻辑**: `未付金额` = `应付总金额` - `付款金额`。
4.  **数据修正**: 如有数据填写错误，应删除错误记录并重新填写，不支持直接编辑。
