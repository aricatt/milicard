# 模块：应收管理

- **参考截图**: `11_应收.png`
- **URL**: `/live-base/finance/receivables`

---

## 1. 功能概述

此页面用于追踪和管理因“分销”而产生的应收款项。

**核心业务逻辑**: 创建分销单后，系统会自动在此处同步生成一条应收记录。财务人员可在此对该笔应收进行分批多次收款。

---

## 2. 页面布局与功能

### 2.1 搜索与操作

- **搜索**: 
  - 页面顶部提供按“销售单”等条件进行筛选的功能。
  - 点击“搜索” (Search) 按钮后，下方列表根据条件进行过滤。
- **主要操作**:
  - **添加 (Add)**: 点击跳转到“添加应收记录”页面。
  - **导出 (Export)**: 导出应收款项列表。

### 2.2 应收列表

- **数据展示**: 页面主体为一个表格，展示应收款项的详细信息。
- **分页**: 表格下方应有分页组件。
- **表格列**:
  - **ID**: 唯一标识符。
  - **销售**: 产生该笔应收款的销售订单。
  - **客户**: 应付款的客户。
  - **商品**: 相关的商品。
  - **应收总金额**: 本次销售应收取的总金额。
  - **已收金额**: 已经收到的金额。
  - **未收金额**: 尚未收到的金额。
  - **收款日期**: 最近一次收款的日期。
  - **操作**:
    - **删除 (Del)**: 点击后，应弹出确认对话框，确认后删除该应收记录。

---

## 3. 数据模型与计算逻辑

```typescript
// file: src/models/receivable.ts

export interface Receivable {
  id: number;
  distributionOrderId: number; // 关联销售单
  customerId: number;
  goodsId: number;

  totalAmount: number; // 应收总金额
  paidAmount: number; // 已收金额
  unpaidAmount: number; // 未收金额

  lastPaymentDate?: string; // 收款日期
}
```

---

## 4. 已确认的业务规则

1.  **数据来源**: “应收总金额”自动从关联的“分销订单”中获取。
2.  **收款操作**: 通过“添加/编辑”功能来更新“已收金额”，以实现分批收款。
3.  **计算逻辑**: `未收金额` = `应收总金额` - `已收金额`。
4.  **数据修正**: 如有数据填写错误，应删除错误记录并重新填写，不支持直接编辑。
